---
title: ğŸ¦ NestJS - Delete API, Decorator
date: 2024-05-23 00:00:00 +0800
toc: true
pin: false
published: true
categories: [SERVER, NEST.JS]
tags: [nest.js]
image: https://github.com/Jng-su/Jng-su/assets/168960634/2759d67c-aca7-4c2c-adac-b0fee5a4d7ff
---

<br>

---

<br>


> ## Delete Board by ID

íŠ¹ë³„í•œ ê±´ ì—†ê³  ê·¸ëƒ¥ ì•ì„  API ë§Œë“ ê±°ë‘ ë¹„ìŠ·í•œ ë“¯! ğŸ›«

#### ğŸ“Ÿ `boards.service.ts`

```typescript
  deleteBoard(id: string): void {
    this.boards = this.boards.filter((board) => board.id !== id);
  }
```

- ë§¤ê°œë³€ìˆ˜ë¡œ `id` ë¥¼ `string`ìœ¼ë¡œ ë°›ìŒ
- `void`ëŠ” ì´ `deleteBoard`ëŠ” ë°˜í™˜ê°’ì´ ì—†ë‹¤ëŠ” ê±¸ ì˜ë¯¸
- `filter`ëŠ” **íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°’ë§Œ ë°˜í™˜**í•˜ë¯€ë¡œ ìœ„ì˜ ì˜ˆì œì—ì„  `id`ê°€ ë‹¤ë¥¸ ê²ƒ ë§Œ!! ë°˜í™˜ì‹œì¼œì¤Œ
  - `filter`ëŠ” ëª¨ë“  ë°°ì—´ë‚´ ê°ì²´ë¥¼ ìˆœíšŒí•˜ë¯€ë¡œ ìš”ì†Œê°€ ë§ê³  ìì£¼ ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë©´ `Map` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ
    - filter : `O(n)` , Map : `O(1)`

<br>

```typescript
  private boards: Map<string, Board> = new Map();

  ...

  getAllBoards(): Board[] {
    return Array.from(this.boards.values());
  }  

  deleteBoard(id: string): void {
    this.boards.delete(id);
  }
```

í•˜ì§€ë§Œ ì—¬ê¸°ì„  filterë¥¼ ì‚¬ìš© ğŸ™„

<br>

#### ğŸ“Ÿ `boards.controller.ts`

```typescript
  @Delete('/:boardId')
  deleteBoard(@Param('boardId') boardId: string): void {
    return this.boardsService.deleteBoard(boardId);
  }
```

<br>

> ## Decorator

ì´ì¯¤ë˜ì„œ ë“œëŠ” ìƒê°ì´ `controller` ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” `@Body`, `@Param` ì•„ì§ ì•ˆí•´ë´¤ì§€ë§Œ `@Query` ë“±ì€ ë¬´ìŠ¨ ì°¨ì´ê°€ ìˆì„ê¹Œ?

### @Body

HTTP request ë³¸ë¬¸(body)ì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ë•Œ ì‚¬ìš©í•¨. ì˜ˆë¡œ, `POST`, `PUT` ê³¼ ê°™ì´ ì „ì†¡ë˜ëŠ” ë°ì´í„°ë¥¼ ì²˜ë¦¬í•¨.

<br>

```typescript
// DTO
export class CreateBoardDto {
  title: string;
  description: string;
}

// controller
@Post('/')
createBoard(@Body() createBoardDto: CreateBoardDto): Board {
  return this.boardsService.createBoard(createBoardDto);
}
```

- ìœ„ì˜ `createBoard`ëŠ” ìš”ì²­ ë³¸ë¬¸ì—ì„œ JSONí˜•ì‹ì˜ `title`ê³¼ `description`ì„ ë°›ê³  ì •ì˜ëœ DTOì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬


### @Param

ê²½ë¡œì— í¬í•¨ëœ ì‹ë³„ìë‚˜ ê°’ë“¤ì„ ì¶”ì¶œí•  ë•Œ ì‚¬ìš©, ì£¼ë¡œ id ê°’ì„ ì¶”ì¶œ

```typescript
  @Get('/:boardId')
  getBoardById(@Param('boardId') boardId: string): Board {
    return this.boardsService.getBoardById(boardId);
  }
```

- ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” `boardId`ë¥¼ ê²½ë¡œë¡œ í•˜ì—¬ê¸ˆ ì¶”ì¶œí•´ì„œ ì „ë‹¬

### @Query

í•„í„°ë§ì´ë‚˜ ê²€ìƒ‰ì„ ìœ„í•œ ì¶”ê°€ì ì¸ ë§¤ê°œë³€ìˆ˜ë¥¼ ì²˜ë¦¬, í˜ì´ì§€ë„¤ì´ì…˜, ì¹´í…Œê³ ë¦¬ ë“±ì— ì£¼ë¡œ ì‚¬ìš©

```typescript
  @Get()
  getProducts(@Query('category') category: string): Product[] {
    return this.productService.getProducts({ category });
  }
```

### @Param, @Query

ì¶”ê°€ì ì¸ ìƒê° : Paramê³¼ Queryë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ?

```typescript
  @Get('/:boardId')
  getBoardById(@Param('boardId') boardId: string, @Query('status') status: string): Board {
    return this.boardsService.getBoardById(boardId, status);
  }
```

- ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” ë°ì½”ë ˆì´í„°ë¥¼ `boardId`ë¥¼ ë°›ê³  `status`ë¥¼ ë™ì‹œì— ì¶”ì¶œí•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ. ğŸ‘